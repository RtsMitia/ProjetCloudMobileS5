import{d as w,u as B,c as p,o as u,w as t,a,b as e,I as L,e as A,f as N,g as r,h as T,i as o,j as h,k as f,l as b,m as _,r as g,n as v,p as G,q as P,s as R,t as S,v as q}from"./index-rxUI5P4t.js";import{u as E,_ as U}from"./_plugin-vue_export-helper-BhuEzHeC.js";const j={class:"login-container"},D={class:"form-card"},F={class:"form-group"},H={class:"form-group"},M={key:0,class:"error-message"},$=w({__name:"LoginRefactored",setup(z){const{login:I,continueAsGuest:V,error:c,isLoading:n}=E(),k=B(),l=g(""),d=g(""),x=G(()=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l.value.trim())&&d.value.length>0);async function C(){await I(l.value,d.value)&&k.push("/map")}function y(){V()}return(m,s)=>(u(),p(e(q),null,{default:t(()=>[a(e(L),{class:"modern-header"},{default:t(()=>[a(e(A),{class:"modern-toolbar"},{default:t(()=>[a(e(N),{class:"modern-title"},{default:t(()=>[...s[2]||(s[2]=[r("Connexion",-1)])]),_:1})]),_:1})]),_:1}),a(e(T),{class:"modern-content"},{default:t(()=>[o("div",j,[s[5]||(s[5]=o("div",{class:"app-branding"},[o("h1",{class:"app-title"},"Lalana"),o("p",{class:"app-subtitle"},"Gestion des signalements routiers")],-1)),o("div",D,[o("div",F,[a(e(b),{lines:"none",class:"modern-item"},{default:t(()=>[a(e(_),{modelValue:l.value,"onUpdate:modelValue":s[0]||(s[0]=i=>l.value=i),type:"email",label:"Email","label-placement":"floating",disabled:e(n),class:"modern-input"},null,8,["modelValue","disabled"])]),_:1})]),o("div",H,[a(e(b),{lines:"none",class:"modern-item"},{default:t(()=>[a(e(_),{modelValue:d.value,"onUpdate:modelValue":s[1]||(s[1]=i=>d.value=i),type:"password",label:"Mot de passe","label-placement":"floating",disabled:e(n),class:"modern-input"},null,8,["modelValue","disabled"])]),_:1})]),a(e(v),{expand:"block",onClick:C,disabled:e(n)||!x.value,class:"primary-button"},{default:t(()=>[e(n)?(u(),p(e(P),{key:0,name:"crescent",slot:"start"})):f("",!0),s[3]||(s[3]=r(" Se connecter ",-1))]),_:1},8,["disabled"]),a(e(v),{expand:"block",fill:"clear",onClick:y,class:"guest-button",disabled:e(n)},{default:t(()=>[...s[4]||(s[4]=[r(" AccÃ©der en tant que visiteur ",-1)])]),_:1},8,["disabled"]),e(c)?(u(),h("div",M,[a(e(R),{color:"danger"},{default:t(()=>[r(S(e(c)),1)]),_:1})])):f("",!0)])])]),_:1})]),_:1}))}}),O=U($,[["__scopeId","data-v-8569d267"]]);export{O as default};
